# 单例设计模式

单例模式（Singleton Pattern）是最简单的设计模式之一，减少了系统的开销。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。

这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

**注意：**

1、**单例类只能有一个实例**。

2、单例类必须自己创建自己的静态唯一实例。

3、单例类必须给所有其他对象提供这一实例。

**注：需要将构造器设置为private**

### 一、饿汉式实现

1、private Class(){} *//私有化构造器*

2、private static Class class = new Class(); *// 声明静态对象*

3、public static Class getInstance(){  *//有公共的static实例*

​				return instance;

​			}

### 二、懒汉式实现

1、private Class(){}   *//私有化构造器*

2、private static Class class = null   *// 声明对象，没有初始化*

3、public static Class getInstance(){  *//有公共的static实例*

​				if(instance == null){

​                     instance = new Class();

​                 }

​				return instance;

​			}

### 三、对比

饿汉式：

​			坏处：对象加载时间长

​			好处：线程安全的

懒汉式：

​			好处：延迟对象创建

​			坏处：（目前的写法）线程不安全

### 四、应用场景

网站的计数器，一般也是单例模式实现，否则难以同步。

应用程序的日志应用，一般都使用单例模式实现，这一般是由于共享的日志 文件一直处于打开状态，因为只能有一个实例去操作，否则内容不好追加。

数据库连接池的设计一般也是采用单例模式，因为数据库连接是一种数据库 资源。 项目中，读取配置文件的类，一般也只有一个对象。没有必要每次使用配置 文件数据，都生成一个对象去读取。

Application 也是单例的典型应用。

Windows的Task Manager (任务管理器)就是很典型的单例模式。

Windows的Recycle Bin (回收站)也是典型的单例应用。在整个系统运行过程 中，回收站一直维护着仅有的一个实例。